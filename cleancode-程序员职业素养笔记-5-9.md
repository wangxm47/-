## 5. 测试驱动开发

### 5.1 此事已有定论

- 每个开发人员都要适应和掌握TDD

### 5.2 TDD的三项法则

- 在编好失败单元测试之前，不要编写任何产品代码
- 只要有一个单元测试失败了，就不要再编写测试代码。（无法编译也是一种失败情况）
- 产品代码恰好能够让当前失败的单元测试成功通过即可，不要多写

### 5.3 TDD的优势

- 确定性：测试通过，即意味着代码有把握可以交付
- 缺陷注入率：有了测试的存在，代码诸入率非常低
- 勇气：有了测试，就有修改糟糕代码的勇气，代码可以持续迭进和改善
- 文档：作者认为，所编写的每一个测试都是一个示例，描述了对象的创建方法、调用方式，这些，单元测试都会提供详尽的描述
- 设计：三项法则的第一条，将会迫使自己在写代码之前思考产品代码应该如何编写，避免自己写出耦合性高的代码
- 总结: TDD是专业人士的选择. 它是一项能够提升代码确定性,给程序员鼓励,降低代码缺陷率,优化文档和设计的原则.

### 5.4 TDD的局限

- 如果写出的测试代码很糟糕, 那么即使做到了TDD也会得到糟糕的结果
- 如果遵循三大法则会弊大于利,那就没必要选用

## 6. 练习

### 1. 引子

- 以前不需要练习是因为生产力落后,练习似乎没有意义, 但是时代变迁生产力进步, 要想自如地面对各种情况,需要大量的练习

### 2. 编程柔道场

- 卡塔：武术中，是一套招式；编程中，是一套敲击键盘和鼠标的动作，用来模拟编程问题的解决过程
- 瓦萨：武术中，也是招式，一个负责攻，一个负责守，然后互换；编程中可以是一个编程，一个写单元测试，然后互换角色
- 自由练习：武术中是不限形式的搏击，通常是一个人守，多个人攻

### 3. 自身经验的拓展

- 保持不落伍的一种方法就是为开源项目贡献代码
- 用自己的时间来练习是职业程序员的职业道德

## 7. 验收测试

### 7.1 需求的沟通

现实中关于需求的沟通是极其困难的, 其中会出现各种各样的问题

* 过早精细化: 贪求不现实的精确性
  * 不确定原则: 东西画在纸上和真正做出来的是不一样的, 每次向业务方站是一项功能, 他们就获得了比之前更多的信息, 这些新信息会反过来影响他们对整个新系统的看法, 最终结果就是, 需求完成得越精细,就越容易被忽视,系统也因此谈不上完工
  * 预估焦虑
* 迟来的模糊性: 模糊代表着分歧, 专业开发人员必须确认,需求中没有任何比确定因素

### 7.2 验收测试

* 验收测试: 业务方与开发方合作编写的测试, 其**目的在于确定需求已经完成**
* 完成: 所有的代码写完, 所有的测试通过了, QA和需求方认可
* 沟通: 验收测试的目的是沟通,澄清,精确化.
* 自动化: 验收测试都应当自动进行
* 迭代开始的第一天,就应当准备好最初的几项验收测试.然后每天完成一些验收测试,到迭代的中间点,所有的测试都应当准备完成
* 开发人员有责任把验收测试与系统联系起来,然后让这些测试通过
* 与编写测试的人协商并改进测试是专业开发人员的职责

* 单元测试和验收测试: 首先是文档,然后才是测试. 主要目的是如实描述系统的设计,结构,行为.
* 务必确保在持续集成系统中,单元测试和验收测试每天都能运行好几次

## 8. 测试策略

### 8.1 QA应该找不到任何错误

* 应当以"QA找不到任何错误"作为努力的目标
* QA也是团队的一部分
* QA的任务便是和业务人员一起创建自动化验收测试,作为系统的真正的需求规约文档
* QA的另一项任务是遵循探索式测试的原则,描述系统运行中的真实情况,将之反馈给开发人员和业务人员

### 8.2 自动化测试金字塔

![image-20210704191942920](C:\Users\wangxm47\AppData\Roaming\Typora\typora-user-images\image-20210704191942920.png)

## 9. 时间管理

### 9.1 会议

*  会议是必需的. 会议浪费了大量的时间
* 如果出席会议不会给目前的工作带来切实且显著的成效, 否则不必参与
* 如果会议让人厌烦, 就离席
* 确定议程和目标

### 9.2注意力点数

* 充足睡眠, 保证充满精力去上班
* 偶尔花30-60分钟换换脑子,恢复精力
* 定期训练肌肉注意力可以提升心智注意力的上限
* 平衡输入与输出

### 9.3 时间拆分与番茄工作法

* 把番茄时间段定为25分钟,每个番茄时间段专注工作拒绝干扰. 没4个番茄时间段后,休息30分钟左右

### 9.4 要避免的行为

* 优先级错乱. 专业人员会评估每个任务的优先级,排除个人喜好和需要, 按照真实的紧急程度来执行任务

### 9.5 死胡同

* 走入死胡同, 要有勇气走回头路, 坚持走下去只会浪费时间

### 9.6 泥潭

* 陷入泥潭就要尽快脱身

